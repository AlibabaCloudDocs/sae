---
keyword: [SAE网关, 网关路由, SAE路由]
---

# 为应用配置网关路由

应用托管到SAE后，如果您的业务请求需要分发给其他服务或者应用，那么您可以为应用配置网关路由，实现请求路由分发。本文介绍如何为您的应用配置网关路由。

配置网关路由前，您需要完成以下操作：

-   [应用托管至SAE](/cn.zh-CN/应用部署/应用部署概述.md)。
-   [创建SLB实例](https://slb.console.aliyun.com/slb)。
-   了解[使用约束](/cn.zh-CN/应用管理/配置网关路由/使用约束.md)。
-   确保待配置网关路由的应用和后端接收请求的应用在同一命名空间内。

网关路由功能适用场景如下：

-   单应用或多应用使用相同域名但存在不同路径流量转发。
-   单应用或多应用有不同域名流量转发，即不同域名解析的访问IP地址是同一个。

网关路由配置完成后，您可以通过域名:访问端口/Path访问相应的后端服务或者应用。

## 创建网关路由

1.  登录[SAE控制台](https://sae.console.aliyun.com)。

2.  进入创建网关路由页面。

    -   从应用基本信息页面进入。
        1.  在左侧导航栏单击**应用列表**，在**应用列表**页面上方选择**地域**，单击具体应用名称。
        2.  在**基本信息**页面的**网关路由设置**区域，单击**添加转发策略**，在**网关路由**页面，单击**新建**。
    -   从命名空间详情页面进入。
        1.  在左侧导航栏单击**命名空间**，在**命名空间**页面上方选择**地域**，单击具体命名空间名称。
        2.  在**命名空间详情**页面的左侧导航栏，单击**网关路由**，在**网关路由**页面，单击**新建**。
3.  在**新建路由规则**面板，设置网关入口的基本信息，单击**下一步**。

    ![网关基本信息配置](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/4008211161/p75544.png)

    参数说明如下：

    |参数|说明|
    |--|--|
    |名称|设置路由规则的名称。|
    |网关类型|选择待转发请求的网络类型。    -   **公网**：通过公网网关转发的请求SAE按照实际转发流量计费。
    -   **私网**：通过私网网关转发的请求不计费，仅在当前VPC内部转发。 |
    |SLB|选择您创建的SLB实例。**说明：** 关于SLB实例的使用约束，请参见[SLB使用说明](/cn.zh-CN/应用管理/绑定SLB/SLB使用说明.md)。 |
    |协议类型|选择请求转发协议，支持**HTTPS**和**HTTP**两种协议。|
    |SSL证书|如果您使用HTTPS协议，需要选择其相应的SSL证书。 如果您账户下没有SSL证书，请登录[SLB控制台](https://slb.console.aliyun.com/)创建。 |
    |访问端口|设置接收请求，并向后端服务或者应用进行请求转发的监听端口，端口范围为1～65535，例如80。**说明：**

    -   在同一个负载均衡实例内，监听端口不可重复。
    -   多条网关路由规则禁止使用同一个SLB的同一个端口。 |

4.  在**新建路由规则**面板，配置转发策略，单击**确定**。

    ![转发策略配置](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/4008211161/p75546.png)

    参数说明如下：

    |参数|说明|
    |--|--|
    |自定义转发策略|    -   **域名**：输入要转发的请求域名。

**说明：**

        -   由英文字母、数字、短划线（-）和半角句号（.）组成，域名不区分英文大小写，仅支持\*.example.com类型的泛域名定义。标准域名示例：foo.example.com。
        -   Path与域名不能为空。
    -   **Path**：输入请求转发路径。例如`foo.example.com/product/sae`，请求转发路径为/product/sae。

**说明：**

        -   Path规范：长度限制为1~80个字符。Path以正斜线（/）开头，后面由字母、数字和`-/ .%？#&`等字符组成。
        -   Path与域名不能为空。
    -   **后端应用**：接收转发请求的应用，该应用须与转发请求的应用在同一个命名空间内。
    -   **容器端口**：设置访问您后端应用的容器端口，例如8080。 |
    |默认转发策略|    -   **后端应用**：选择需要转发的后端应用。
    -   **容器端口**：设置访问您后端应用的容器端口，例如8080。
**说明：** 没有匹配自定义策略转发的请求，SAE会指定默认的转发策略。如果您不设置默认转发策略，会导致访问报错。 |

5.  验证结果。

    -   方法一：在应用事件页面查看是否配置成功。具体操作，请参见[查看应用事件](/cn.zh-CN/应用管理/应用变更记录/查看应用事件.md)。

        ![在应用事件查看是否存在网管路由配置成功的事件](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/8781780261/p76893.png)

    -   方法二：登录[SLB控制台](https://slb.console.aliyun.com/)，查看监听是否已经配置。

        ![在SLB控制台查看是否转发配置生效](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/8781780261/p76894.png)

    -   方法三：通过域名:访问端口/Path访问相应的后端服务或者应用，查看是否生效。

## 网关路由管理

创建路由规则后，您可以在**网关路由**页面进行转发策略查看、网关路由的编辑、删除以及相关事件查看。

## 问题反馈

如果您在使用SAE过程中有任何疑问，欢迎您扫描下面的二维码或搜索钉钉群号23198618，加入钉钉群与我们交流。

![SAE钉钉群2](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/1176199061/p72048.png)

