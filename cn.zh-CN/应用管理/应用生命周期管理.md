# 应用生命周期管理 {#concept_113076_zh .concept}

本文档将介绍如何使用 SAE 开发、创建、部署、更新、扩缩容、启停和删除应用，以及启停应用监控等管理操作。

## 开发应用 {#section_k3z_wc5_3xt .section}

您可基于 Dubbo、Spring Cloud 或 HSF 的框架来开发不同类型的服务。有关示例，请参阅[https://help.aliyun.com/document\_detail/97471.html](https://help.aliyun.com/document_detail/97471.html)、[https://help.aliyun.com/document\_detail/72618.html](https://help.aliyun.com/document_detail/72618.html)或。

您构建使用不同服务类型的应用部署包：WAR包、JAR包或镜像。

-   如使用 WAR 包或 JAR 包，您既可以将部署包存放本地，也可以将部署包上传至某个服务器内，在部署时粘贴该部署包的地址。
-   如果使用镜像，您需将镜像上传至镜像仓库。有关示例操作，请参阅[制作 SAE 应用镜像](https://help.aliyun.com/document_detail/98492.html)。

## 部署和升级应用 {#section_3qn_6i4_g2p .section}

您可在应用列表内创建一个应用，指定命名空间和 VPC，然后选择部署方式进行部署。 部署应用主要用于以下两种场景：

-   首次部署，需要创建并部署应用。
-   已经部署过应用，可以通过部署应用来升级应用版本。升级时您可以选择[如何进行灰度发布或分批发布](../../../../cn.zh-CN/应用部署/控制台部署/如何进行灰度发布或分批发布.md#)。

有关示例，请参阅[控制台部署](../../../../cn.zh-CN/应用部署/应用部署概述.md#section_8dw_hha_2wv)和[工具部署](https://help.aliyun.com/document_detail/113181.html#DeployAppWithTool)[工具部署](../../../../cn.zh-CN/应用部署/应用部署概述.md#section_nlq_v8x_zqm)。

## 回滚应用 {#section_6cv_7gc_m1x .section}

SAE 应用在升级部署期间，只要至少有一个应用实例未升级为新版本，就认为升级处于进行中状态。您就可以进入变更详情页面单击立即回滚，这会将尚未升级的实例保持不变，并将已升级的实例回滚到以前的服务包和配置。

应用在变更过程中会有一些变更流程异常情况：遇到部署包不可用、健康检查失败等异常报错会导致应用升级失败，当前应用变更会自动终止并回滚；升级时单批次最大超时时间为 30 分钟，如果是超时导致变更流程暂停，您需进入变更详情页面手动终止发布流程并回滚。

## 扩缩应用 {#section_4qo_mzg_x4y .section}

应用扩缩即为通过改变实例的数量来增加或减少应用的计算容量。您可以在应用的实例负载过高时给应用添加新实例，并在不再需要这些实例时终止它们。

当您增加加实例时，如果要增加的实例加上应用原有的实例所占的容量超过应用资源的最大支持大小，请求将失败。

1.  单击应用详情页面右上角的**应用扩缩**。

2.  在**应用扩缩**窗口内输入应用目标实例数，单击**确定**。

-   **应用扩容** 

    ：当输入的应用目标实例数比当前实例数大时，则会新增应用实例，新增的应用实例与原有实例的创建属性会保持一致。该扩容过程需要 3~5 分钟等待新的实例部署完成。

-   **应用缩容**：当输入的应用目标实例数比当前实例数小时，则会随机删除掉多余数量的应用实例。


## 启停应用 {#section_2cm_p15_u7c .section}

-   停止应用

    当应用处于运行状态时，您可以根据需要随时停止该应用的运行。停止应用时，该应用的最小实例数配置会被设置为 0，实例数也会被设置为 0，同时系统会停止对使用的计算资源进行计量或计费。

    **说明：** 

    对于应用运行依赖的其他产品，例如 SLB 和 VPC，依然处于计费状态。

    您可以单击应用详情页面右上角的**停止应用**按钮停止应用运行。

-   启动应用

    当应用处于停止状态时，您可以根据需要再次启动该应用。应用启动后，启动的实例数为该应用当前配置的实例数，同时系统会重新开始对使用的计算资源进行计量或计费。

    您可以单击应用详情页面右上角**启动应用**按钮启动处于停止状态的应用。


## 重启应用 {#section_037_x85_1j1 .section}

重启应用是指在应用运行时（不是针对停止的应用），按照当前的配置，滚动重启您的应用。当您确定应用代码没有问题，而业务却没有正确运行时，您可以尝试重启应用解决该问题。

然而通常情况下，不建议您手动重启整个应用，而是通过配置正确的健康检查，来诊断应用实例的状态，对于诊断为不健康的应用实例，SAE 会自动对其进行重启。

您可以在应用详情页面的右上角单击**重启应用**来重启处于运行状态的应用。

## 删除应用 {#section_5p2_07g_3sf .section}

删除应用是指删除这个应用相关的所有信息，系统将物理删除该应用下所有的实例，负载均衡设备，以及应用的基本创建信息。

您可以在应用详情页面的右上角单击**删除应用**来完成应用删除的操作。

## 启停应用监控 {#section_64l_nxr_tzn .section}

SAE 的应用监控的详情页面集成了 ARMS 的多种监控能力，可以帮您更快速地定位出错接口和慢接口、重现调用参数、检测内存泄漏、发现系统瓶颈，从而大幅提升线上问题诊断问题的效率。

-   当应用未开启应用监控时，您可以在在应用详情页面的右上角，单击**开启应用监控**来开启应用监控能力；
-   当应用监控已开启后，您可以在在应用详情页面的右上角，单击**停止应用监控**来关闭应用监控能力。

**说明：** 如果您的应用是在应用监控能力上线前创建并部署的，您首次开启应用监控时系统将自动帮你重新部署应用。

