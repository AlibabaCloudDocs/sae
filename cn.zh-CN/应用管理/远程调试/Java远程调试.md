---
keyword: [Java, 远程调试]
---

# Java远程调试

如果您想要远程诊断部署在SAE上的应用，可以使用SAE远程调试功能。SAE目前仅支持Java应用的远程调试。

## 配置Java应用远程调试

1.  登录[SAE控制台](https://sae.console.aliyun.com)。

2.  在左侧导航栏单击**应用列表**，在**应用列表**页面上方选择**地域**，单击具体应用名称。

3.  在应用详情页面的右上角，单击**部署应用**。

4.  在**部署应用**页面下方，展开**启动命令设置**区域，设置启动命令。设置完成后单击**确认**。

    ![远程调试启动命令](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/9302339061/p208210.png)

    参数说明如下。

    |参数|说明|
    |--|--|
    |系统默认启动命令|SAE默认的启动命令。|
    |options设置|请配置以下命令：    ```
-agentlib:jdwp=transport=dt_socket,address=9000,server=y,suspend=n
    ```

    -   transport：远程调试间的数据传输方式。
    -   address：远程调试的端口。 |
    |args设置|配置标准输出和错误输出的重定向命令，例如`1>>/tmp/std.log>&1`。|

    **说明：** 单击**确认**后，该应用将会被重启，请在业务较少的时间段部署。

5.  设置启动命令后，在**基本信息**页面的左侧导航栏，单击**远程调试（仅支持Java）**。

6.  在**远程调试（java）**页面，打开**开启远程调试**开关，单击**远程调试设置**。

    ![开启SAE远程调试功能](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/0353649951/p133472.png)

7.  在**远程调试设置**面板中，设置远程调试参数，单击**确定**。

    ![设置远程调试](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/0353649951/p133479.png)

    远程调试参数说明如下。

    |参数|说明|
    |--|--|
    |请选择公网SLB|选择SLB完成本地与远程实例的连接。如果您之前没有创建过SLB，您可以选择**新建SLB**来创建SLB进行连接。关于SLB的详细说明，请参见[什么是负载均衡](/cn.zh-CN/传统型负载均衡CLB/产品简介/什么是负载均衡.md)。**说明：** 使用SLB时会产生额外费用，SLB的计费方式，请参见[按量计费](/cn.zh-CN/传统型负载均衡CLB/传统型负载均衡产品定价/按量计费.md)。 |
    |调试端口|输入[步骤4](#table_361_8l2_rt4)中设置应用启动命令时配置的address调试端口。|
    |远程调试指定实例|选择需要远程调试的实例。**说明：** 只有**运行状态**为**Running**的实例才可以设置远程调试。 |

    远程实例设置完成后，页面自动进入**变更详情**页面，查看实例是否连接成功。

    ![远程实例发布单](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/1353649951/p133482.png)

    当**执行状态**为**执行成功**时，说明实例已经成功连接。

8.  在左侧导航栏单击**远程调试（仅支持Java）**，获取远程调试IP及端口信息，对应用进行远程诊断。

    ![查看远程调试实例IP及端口](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/1353649951/p134464.png)


**说明：** 长时间开启远程调试可能存在数据泄露等风险，因此远程诊断完后请及时关闭**开启远程调试**开关，在弹出的**确认解绑远程Debug**对话框中单击**确认**，关闭远程调试功能。

## 修改远程调试设置

SAE一次仅支持一个应用的远程调试，如果您需要远程调试其他应用，请修改远程调试设置。

**说明：** 修改远程调试设置前，请先确保需要远程调试的应用已设置启动命令。关于如何设置启动命令，请参见[配置Java应用远程调试](#section_8k3_3ct_eew)。

1.  登录[SAE控制台](https://sae.console.aliyun.com)。

2.  在左侧导航栏单击**应用列表**，在**应用列表**页面上方选择**地域**，单击具体应用名称。

3.  在**基本信息**页面的左侧导航栏，单击**远程调试（仅支持Java）**。

4.  在**远程调试（java）**页面，单击**修改远程调试设置**。在**远程调试设置**面板中修改设置信息，单击**确定**。

    ![修改远程调试设置](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/1353649951/p133484.png)

    修改远程调试的参数说明如下所示。

    |参数|说明|
    |--|--|
    |请选择公网SLB|选择SLB完成本地与远程实例的连接。如果您之前没有创建过SLB，您可以选择**新建SLB**来创建SLB进行连接。关于SLB的详细说明，请参见[什么是负载均衡](/cn.zh-CN/传统型负载均衡CLB/产品简介/什么是负载均衡.md)。**说明：** 使用SLB时会产生额外费用，SLB的计费方式，请参见[按量计费](/cn.zh-CN/传统型负载均衡CLB/传统型负载均衡产品定价/按量计费.md)。 |
    |调试端口|输入[步骤4](#d6e47)中设置应用启动命令时配置的address调试端口。|
    |远程调试指定实例|选择需要远程调试的实例。**说明：** 只有**运行状态**为**Running**的实例才可以设置远程调试。 |

    远程实例设置完成后，页面自动进入**变更详情**页面，查看实例是否连接成功。

    ![远程实例发布单](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/1353649951/p133482.png)

    当**执行状态**为**执行成功**时，说明实例已经成功连接。

5.  在左侧导航栏单击**远程调试（仅支持Java）**，获取远程调试IP及端口信息，对应用进行远程诊断。

    ![查看远程调试实例IP及端口](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/1353649951/p134464.png)


**说明：** 长时间开启远程调试可能存在数据泄露等风险，因此远程诊断完后请及时关闭**开启远程调试**开关，在弹出的**确认解绑远程Debug**对话框中单击**确认**，关闭远程调试功能。

## 验证远程调试结果

您可以通过应用的**变更记录**查看远程调试是否成功开启或关闭。

1.  登录[SAE控制台](https://sae.console.aliyun.com)。

2.  在左侧导航栏单击**应用列表**，在**应用列表**页面上方选择**地域**，单击具体应用名称。

3.  在**基本信息**页面的左侧导航栏，单击**变更记录**。

    ![SAE应用变更记录](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/1353649951/p134513.png)

    变更记录说明如下所示：

    -   **绑定SLB**成功说明远程调试已成功连接。
    -   **解绑SLB**成功说明远程调试已成功关闭。

## 问题反馈

如果您在使用SAE过程中有任何疑问，欢迎您扫描下面的二维码或搜索钉钉群号23198618，加入钉钉群与我们交流。

![SAE钉钉群2](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/1176199061/p72048.png)

