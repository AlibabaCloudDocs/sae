# 设置环境变量

应用在系统中运行需要配置特定的环境变量，如Java应用程序在配置Java\_home及其Path后，其相关命令才可以被执行。本文介绍如何在SAE控制台上为应用设置环境变量，包括自定义环境变量和从命名空间配置项中引入的环境变量。

## 在应用创建过程中设置环境变量

1.  登录[SAE控制台](https://sae.console.aliyun.com)。

2.  在左侧导航栏单击**应用列表**，在**应用列表**页面上方选择**地域**，单击**创建应用**。

3.  在**应用基本信息**页签设置应用相关信息，并单击**下一步：应用部署配置**。

4.  在**应用部署配置**页签，配置部署参数，展开**环境变量设置**面板，并执行以下操作之一来添加环境变量。

    -   添加自定义环境变量：在**类型**下拉框中选择**自定义**，并输入**变量名称**和**变量值**。

        ![sc_environment_variable_option_custom](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/8369788951/p127122.png)

    -   引用配置项作为环境变量：在**类型**下拉框中选择**引用配置项**，输入**变量名称**，并在最右侧的下拉框中选择已创建的配置项名称和该配置项中的键。

        ![sc_environment_variable](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/5353649951/p127101.png)

    **说明：** 环境变量名称的长度建议不超过256个字符。SAE将环境变量作为属性存储在应用部署属性中，允许配置多个环境变量。

5.  如需添加其他环境变量，单击**添加**，并重复上一步的操作。

6.  单击**下一步：确认规格**。

7.  在**确认规格**页签，查看您所创建应用的详细信息以及配置费用情况，并单击**确认创建**。


## 示例

某应用集成了MySQL，在应用使用时需为其配置MySQL运行所需的环境变量。在SAE控制台进行部署时为其配置如下所示环境信息。

-   **MYSQL\_ROOT\_PASSWORD**（必选项）：用于设置MySQL的Root密码。如果不设置该项，则MySQL容器无法正常启动。
-   **MYSQL\_USER**和**MYSQL\_PASSWORD**（可选项）：用于添加除Root之外的账号及其密码。
-   **MYSQL\_DATABASE**（可选项）：用于设置生成容器时需要新建的数据库。

## 应用部署完成后配置环境变量

环境变量配置可以在创建应用过程中设置，也可以在应用部署完成后进行配置。

1.  登录[SAE控制台](https://sae.console.aliyun.com)。

2.  在左侧导航栏单击**应用列表**，在**应用列表**页面上方选择**地域**，单击具体应用名称。

3.  在应用详情页面的右上角，单击**部署应用**。

4.  在**部署应用**页面下方，展开**启动命令设置**区域，根据您的需求配置参数，然后单击**确认**。

    本章节以JAR包部署的应用为例说明启动命令参数，镜像及WAR包部署时的启动命令的参数，请参见[\#d6e41](#d6e41)和[\#d6e277](#d6e277)。

    ![配置启动命令](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/1110096061/p74695.png)

    参数说明如下。

    |参数|说明|
    |--|--|
    |系统默认启动命令|SAE默认的启动命令。|
    |options设置|配置JVM参数。关于参数详情，请参见[JVM参数配置说明](/cn.zh-CN/最佳实践/JVM参数配置说明.md)、[Tuning Java Virtual Machines](https://docs.oracle.com/cd/E21764_01/web.1111/e13814/jvm_tuning.htm#PERFM150)和[JVM Tuning: How to Prepare Your Environment for Performance Tuning](https://sematext.com/blog/jvm-performance-tuning/)。如果您需要使用应用的远程调试功能，请配置以下命令：

    ```
-agentlib:jdwp=transport=dt_socket,address=9000,server=y,suspend=n
    ```

    -   transport：远程调试间的数据传输方式。
    -   address：远程调试的地址。与开启远程调试时设置的调试端口保持一致，远程调试的详细说明，请参见[远程调试（Java）](/cn.zh-CN/应用管理/远程调试（Java）.md)。 |
    |args设置|配置标准输出和错误输出的重定向命令，例如`1>>/tmp/std.log>&1`。|
    |**options快捷设置**：只有**Java环境**为**Dragonwell**时可以设置。|
    |开启微服务性能提升（Wisp 2协程）|默认开启，开启后可以提升运行时多线程性能。|
    |开启应用内存优化（ZGC/G1）|默认开启，开启后可以针对多CPU与大容量内存场景，降低GC时间，适用于GC需要优化、大数据等场景。|
    |开启应用启动加速（Quickstart）|只有**Java环境**为**Dragonwell 11**时可以设置。选中**开启应用启动加速（Quickstart）**并设置**持久化目录**后，可以提升应用启动效率。**说明：** 开启应用启动加速前，需要先设置NAS存储。具体操作，请参见[设置NAS存储](/cn.zh-CN/应用部署/设置NAS存储.md)。 |
    |持久化目录|开启应用加速后需要设置，设置的**持久化目录**推荐为NAS存储的目录或者子目录，达到跨实例间的加速效果。关于如何设置NAS存储，请参见[设置NAS存储](/cn.zh-CN/应用部署/设置NAS存储.md)。|

    **说明：** 单击**确认**后，该应用将会被重启，请在业务较少的时间段进行。


## 问题反馈

如果您在使用SAE过程中有任何疑问，欢迎您扫描下面的二维码或搜索群号23198618，加入钉钉群与我们交流。

![SAE钉钉群2](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/4279867061/p72048.png)

**相关文档**  


[管理和使用配置项](/cn.zh-CN/应用管理/命名空间管理/管理和使用配置项.md)

